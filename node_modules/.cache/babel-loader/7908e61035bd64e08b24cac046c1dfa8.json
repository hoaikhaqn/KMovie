{"ast":null,"code":"import _defineProperty from \"/home/h/Source/Project/movie-website/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/*eslint-disable no-eval */\nimport { FireSQL } from 'firesql';\nimport app from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firebase-firestore\"; // import { toast } from \"react-toastify\";\n\nimport Config from \"../config\";\n\nclass Firebase {\n  constructor() {\n    this.getUid = user => {\n      !user && (user = this.auth.currentUser);\n      return user && (user.email || user.providerData[0] && user.providerData[0].uid || user.uid);\n    };\n\n    this.checkSession = user => {\n      !user && (user = this.auth.currentUser); // console.log(\"user.metadata.b\", user && user.metadata.b);\n\n      return user && new Date().getTime() - user.metadata.b < 86400000; //1 hour\n    };\n\n    this.getDocWithCondition = (collection, params, callback) => {\n      try {\n        var api = this.db.collection(collection).where(params.where[0] + (typeof params.where[1] === \"object\" ? \".\" + params.where[1].id : \"\"), \"==\", typeof params.where[1] === \"object\" ? params.where[1].name : params.where[1]);\n        api.onSnapshot(function (snapshot) {\n          const data = [];\n          snapshot.docs.forEach(doc => {\n            data.push(_objectSpread({}, doc.data(), {\n              id: doc.id\n            }));\n          }); // console.log(\"data\", data);\n\n          callback && callback(data);\n        }); // return api.get();\n      } catch (error) {\n        console.error(error);\n      }\n    };\n\n    this.getDocWithMultiCondition = (collection, params, callback) => {\n      try {\n        var api;\n        var where = \"\";\n        params.where && params.where.forEach(item => {\n          if (typeof item[1] === \"object\") {\n            where += \".where('\" + item[0] + \".\" + item[1].id + \"','==','\" + item[1].name + \"')\";\n          } else {\n            where += \".where('\" + item[0] + \"','==','\" + item[1] + \"')\";\n          }\n        });\n        let query = \"this.db.collection('\".concat(collection, \"')\").concat(where); // console.log(query);\n\n        api = eval(query);\n        api.onSnapshot(function (snapshot) {\n          const data = [];\n          snapshot.docs.forEach(doc => {\n            data.push(_objectSpread({}, doc.data(), {\n              id: doc.id\n            }));\n          });\n\n          if (params.orderBy) {\n            data.sort(function (a, b) {\n              return (params.orderBy[1] === \"asc\" ? 1 : -1) * (a[params.orderBy[0]] - b[params.orderBy[0]]);\n            });\n          } else {\n            data.sort(function (a, b) {\n              return b.createdAt - a.createdAt;\n            });\n          } // console.log(\"data\", data);\n\n\n          callback && callback(data);\n        }); // return api.get();\n      } catch (error) {\n        console.error(error);\n      }\n    };\n\n    this.getDocWithKeyword = (collection, params, callback) => {\n      try {\n        let query = \"SELECT * FROM \".concat(collection, \" WHERE \").concat(params.where[0], \" OR \").concat(params.where[1]); // console.log(\"QUERY\", query);\n\n        const api = this.fireSQL.query(query);\n        api.then(data => {\n          if (params.orderBy) {\n            data.sort(function (a, b) {\n              return (params.orderBy[1] === \"asc\" ? 1 : -1) * (a[params.orderBy[0]] - b[params.orderBy[0]]);\n            });\n          } else {\n            data.sort(function (a, b) {\n              return b.createdAt - a.createdAt;\n            });\n          } // console.log(\"data\", data);\n\n\n          callback && callback(data);\n        }); // return api.get();\n      } catch (error) {\n        console.error(error);\n      }\n    };\n\n    app.initializeApp(Config._env.firebase);\n    this.auth = app.auth();\n    this.db = app.firestore();\n    this.fireSQL = new FireSQL(this.db);\n    this.authGoogle = new app.auth.GoogleAuthProvider();\n    this.authGoogle.setCustomParameters({\n      prompt: \"select_account\"\n    });\n    this.authFacebook = new app.auth.FacebookAuthProvider();\n    this.authFacebook.setCustomParameters({\n      prompt: \"select_account\"\n    });\n  }\n\n  isInitialized() {\n    return new Promise(resolve => {\n      this.auth.onAuthStateChanged(resolve);\n    });\n  }\n\n  getCurrentUsername() {\n    return this.auth.currentUser;\n  }\n\n  getUserLogIn() {\n    return this.db.doc(\"account/\" + this.getUid()).get();\n  }\n\n  logout() {\n    return this.auth.signOut();\n  } //------------------------------------------------------------------------//\n\n\n  getData(collection, params) {\n    return params ? this.db.collection(collection).orderBy(params.order ? params.order[0] : \"createdAt\", params.order ? params.order[1] : \"desc\").limit(params.limit ? params.limit : 1000).get(params.get && params.get) : this.db.collection(collection).get();\n  }\n\n  getDocument(collection, id) {\n    return this.db.collection(collection).doc(id).get();\n  }\n\n  setDocument(collection, id, data, cb) {\n    this.db.collection(collection).doc(id).set(data).then(function () {\n      cb && cb(true);\n    }).catch(function (error) {\n      cb && cb(false);\n    });\n  } // ----------\n\n\n}\n\nexport default new Firebase();","map":{"version":3,"sources":["/home/h/Source/Project/movie-website/src/context/firebase.js"],"names":["FireSQL","app","Config","Firebase","constructor","getUid","user","auth","currentUser","email","providerData","uid","checkSession","Date","getTime","metadata","b","getDocWithCondition","collection","params","callback","api","db","where","id","name","onSnapshot","snapshot","data","docs","forEach","doc","push","error","console","getDocWithMultiCondition","item","query","eval","orderBy","sort","a","createdAt","getDocWithKeyword","fireSQL","then","initializeApp","_env","firebase","firestore","authGoogle","GoogleAuthProvider","setCustomParameters","prompt","authFacebook","FacebookAuthProvider","isInitialized","Promise","resolve","onAuthStateChanged","getCurrentUsername","getUserLogIn","get","logout","signOut","getData","order","limit","getDocument","setDocument","cb","set","catch"],"mappings":"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","sourcesContent":["/*eslint-disable no-eval */\nimport {\n  FireSQL\n} from 'firesql';\nimport app from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firebase-firestore\";\n// import { toast } from \"react-toastify\";\nimport Config from \"../config\";\nclass Firebase {\n  constructor() {\n    app.initializeApp(Config._env.firebase);\n    this.auth = app.auth();\n    this.db = app.firestore();\n    this.fireSQL = new FireSQL(this.db);\n    this.authGoogle = new app.auth.GoogleAuthProvider();\n    this.authGoogle.setCustomParameters({\n      prompt: \"select_account\"\n    });\n    this.authFacebook = new app.auth.FacebookAuthProvider();\n    this.authFacebook.setCustomParameters({\n      prompt: \"select_account\"\n    });\n  }\n  isInitialized() {\n    return new Promise(resolve => {\n      this.auth.onAuthStateChanged(resolve);\n    });\n  }\n  getCurrentUsername() {\n    return this.auth.currentUser;\n  }\n  getUserLogIn() {\n    return this.db.doc(\"account/\" + this.getUid()).get();\n  }\n  getUid = user => {\n    !user && (user = this.auth.currentUser);\n    return user && (user.email || (user.providerData[0] && user.providerData[0].uid) || user.uid);\n  };\n  checkSession = user => {\n    !user && (user = this.auth.currentUser);\n    // console.log(\"user.metadata.b\", user && user.metadata.b);\n    return user && new Date().getTime() - user.metadata.b < 86400000; //1 hour\n  };\n\n  logout() {\n    return this.auth.signOut();\n  }\n  //------------------------------------------------------------------------//\n  getData(collection,params) {\n    return params ?\n      this.db\n      .collection(collection)\n      .orderBy(params.order ? params.order[0] : \"createdAt\", params.order ? params.order[1] : \"desc\")\n      .limit(params.limit ? params.limit : 1000)\n      .get(params.get && params.get) :\n      this.db.collection(collection).get();\n  }\n  getDocument(collection, id) {\n    return this.db\n      .collection(collection)\n      .doc(id)\n      .get();\n  }\n  setDocument(collection, id, data, cb) {\n    this.db\n      .collection(collection)\n      .doc(id)\n      .set(data)\n      .then(function () {\n        cb && cb(true);\n      })\n      .catch(function (error) {\n        cb && cb(false);\n      });\n   \n  }\n\n  // ----------\n  getDocWithCondition = (collection, params, callback) => {\n    try {\n      var api = this.db.collection(collection)\n        .where(params.where[0] + (\n            typeof params.where[1] === \"object\" ? \".\" + params.where[1].id : \"\"), \"==\",\n          typeof params.where[1] === \"object\" ? params.where[1].name : params.where[1]);\n\n      api.onSnapshot(function (snapshot) {\n        const data = [];\n        snapshot.docs.forEach(doc => {\n          data.push({\n            ...doc.data(),\n            id: doc.id\n          });\n        });\n        // console.log(\"data\", data);\n        callback && callback(data);\n      });\n      // return api.get();\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  getDocWithMultiCondition = (collection, params, callback) => {\n    try {\n      var api;\n      var where = \"\";\n      params.where && params.where.forEach(item => {\n        if (typeof item[1] === \"object\") {\n          where += \".where('\" + item[0] + \".\" + item[1].id + \"','==','\" + item[1].name + \"')\";\n        } else {\n          where += \".where('\" + item[0] + \"','==','\" + item[1] + \"')\";\n        }\n      })\n      let query = `this.db.collection('${collection}')${where}`;\n      // console.log(query);\n      api = eval(query);\n      api.onSnapshot(function (snapshot) {\n        const data = [];\n        snapshot.docs.forEach(doc => {\n          data.push({\n            ...doc.data(),\n            id: doc.id\n          });\n        });\n        if (params.orderBy) {\n          data.sort(function (a, b) {\n            return (params.orderBy[1] === \"asc\" ? 1 : -1) * (a[params.orderBy[0]] - b[params.orderBy[0]])\n          })\n        } else {\n          data.sort(function (a, b) {\n            return b.createdAt - a.createdAt;\n          })\n        }\n        // console.log(\"data\", data);\n        callback && callback(data);\n      });\n      // return api.get();\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  // getDocWithMultiConditionSQL = (collection, params,callback) => {\n  //   try {\n  //     var where = \"\";\n  //     if (params.where) {\n  //       where = \" WHERE \";\n  //       params.where.map(function (item, idx) {\n  //         if (typeof item[1] === \"object\") {\n  //           where += (idx === 0 ? \"\" : \" AND \") + \"`\" + item[0] + \"` IN '\" + item[1].id + \"'\";\n  //         } else {\n  //           where += (idx === 0 ? \"\" : \" AND \") + \"`\" + item[0] + \"` = '\" + item[1] + \"'\";\n  //         }\n  //       })\n  //     }\n\n  //     let query = 'SELECT * FROM ' + collection +\n  //       where +\n  //       ' ORDER BY createdAt DESC' +\n  //       ' LIMIT 2';\n  //     console.log(\"QUERY\", query);\n  //     const api = this.fireSQL.query(query);\n  //     api.then(data => {\n  //       console.log(\"data\", data);\n  //       callback && callback(data);\n  //     });\n  //     // return api.get();\n  //   } catch (error) {\n  //     console.error(error);\n  //   }\n  // };\n  getDocWithKeyword = (collection, params, callback) => {\n    try {\n      let query = `SELECT * FROM ${collection} WHERE ${params.where[0]} OR ${params.where[1]}`;\n      // console.log(\"QUERY\", query);\n      const api = this.fireSQL.query(query);\n      api.then(data => {\n        if (params.orderBy) {\n          data.sort(function (a, b) {\n            return (params.orderBy[1] === \"asc\" ? 1 : -1) * (a[params.orderBy[0]] - b[params.orderBy[0]])\n          })\n        } else {\n          data.sort(function (a, b) {\n            return b.createdAt - a.createdAt;\n          })\n        }\n        // console.log(\"data\", data);\n        callback && callback(data);\n      });\n      // return api.get();\n    } catch (error) {\n      console.error(error);\n    }\n  };\n}\n\nexport default new Firebase();"]},"metadata":{},"sourceType":"module"}