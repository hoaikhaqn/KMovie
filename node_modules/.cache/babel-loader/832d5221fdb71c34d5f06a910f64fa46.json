{"ast":null,"code":"import _slicedToArray from \"/home/h/Source/Project/movie-website/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/h/Source/Project/movie-website/src/views/Movies/index.js\";\nimport React, { useEffect, useState } from \"react\"; // import { Link } from 'react-router-dom';\n\nimport { useReduceState } from \"../../context\";\nimport \"./style.css\";\nimport $ from \"jquery\"; //Components\n\nimport Breadcrumbs from \"../../containers/DefaultLayout/DefaultBreadcrumbs\";\nimport SideBar from \"../../components/Sidebar\";\nimport VideoItem from \"../../components/VideoItem\";\n\nvar _ = require('lodash');\n\nvar reset = false;\nexport default function MoviePage(props) {\n  const _useReduceState = useReduceState(),\n        state = _useReduceState.state,\n        firebase = _useReduceState.firebase,\n        getCollection = _useReduceState.getCollection;\n\n  const _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        type = _useState2[0],\n        setType = _useState2[1];\n\n  const _useState3 = useState(),\n        _useState4 = _slicedToArray(_useState3, 2),\n        genres = _useState4[0],\n        setGenres = _useState4[1];\n\n  const _useState5 = useState(),\n        _useState6 = _slicedToArray(_useState5, 2),\n        nation = _useState6[0],\n        setNation = _useState6[1];\n\n  const _useState7 = useState(),\n        _useState8 = _slicedToArray(_useState7, 2),\n        year = _useState8[0],\n        setYear = _useState8[1];\n\n  const _useState9 = useState(),\n        _useState10 = _slicedToArray(_useState9, 2),\n        params = _useState10[0],\n        setParams = _useState10[1];\n\n  const _useState11 = useState(),\n        _useState12 = _slicedToArray(_useState11, 2),\n        filter = _useState12[0],\n        setFilter = _useState12[1];\n\n  const onChangeFilter = e => {\n    console.log(e.target);\n    var params_clone = params;\n    params_clone[e.target.id] = e.target.value;\n    setParams(params_clone);\n  };\n\n  const onFilter = event => {\n    var ftype = document.getElementById(\"type\").value;\n    var fgenre = document.getElementById(\"genre\").value;\n    var fnation = document.getElementById(\"nation\").value;\n    var fyear = document.getElementById(\"year\").value;\n    var label;\n\n    if (!ftype && fgenre) {\n      label = \"the-loai/\";\n    } else if (!ftype && fnation) {\n      label = \"quoc-gia/\";\n    } else if (!ftype && fyear) {\n      label = \"phim-nam/\";\n    } else {\n      label = \"\";\n    }\n\n    props.history.push('/' + label + (ftype ? ftype + '/' : '') + (fgenre ? fgenre + '/' : '') + (fnation ? fnation + '/' : '') + (fyear ? fyear + '/' : ''));\n  };\n\n  if (!params || !_.isEqual(params, props.match.params)) {\n    reset = true;\n    $(\".zmoto-products\").removeClass(\"fadeIn\");\n    setParams(props.match.params);\n  }\n\n  if (!state.data || state.data && !state.data.year) {\n    getCollection(\"year\", {\n      limit: 5\n    });\n  }\n\n  useEffect(() => {\n    if (!genres) {\n      setGenres(state.data && state.data.genre);\n    }\n\n    if (!nation) {\n      setNation(state.data && state.data.nation);\n    }\n\n    if (!type) {\n      setType(state.data && state.data.type);\n    }\n\n    if (!year) {\n      setYear(state.data && state.data.year);\n    }\n\n    if ((type || genres || nation || year) && params && reset) {\n      var aCondition = [];\n\n      if (type && params.type) {\n        let obj = _.find(type, {\n          id: params.type\n        });\n\n        if (obj) aCondition.push([\"type\", \"array-contains\", obj]);\n      }\n\n      if (genres && params.genre != 0) {\n        let obj = _.find(genres, {\n          id: params.genre\n        });\n\n        if (obj) aCondition.push([\"genre\", \"array-contains\", obj]);\n      }\n\n      if (nation && params.nation != 0) {\n        let obj = _.find(nation, {\n          id: params.nation\n        });\n\n        if (obj) aCondition.push([\"nation\", \"array-contains\", obj]);\n      }\n\n      if (year && params.year) {\n        aCondition.push([\"year\", \"array-contains\", params.year]);\n      }\n\n      if (aCondition.length != 0) {\n        firebase.getDocWithCondition(\"movie\", {\n          where: aCondition,\n          limit: 10\n        }, \"filter\", setFilter);\n        reset = false;\n      }\n    }\n  });\n\n  if (!reset && filter) {\n    $(\".main-page\").addClass(\"fadeIn\");\n    $(\".zmoto-products\").addClass(\"fadeIn\");\n  }\n\n  return React.createElement(\"div\", {\n    id: \"MoviePage\",\n    className: \"main-page fadeOut\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(Breadcrumbs, {\n    items: [\"phim\"],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"zmoto-inner-page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"zmovo-product-page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"zmovo-product-items\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"zmovo-product-items-inner\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"zmovo-product-with-sedbar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-lg-9\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"product-filter mb-30\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"product-filter-inner\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"product-filter-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"short-by-show form-inline2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-6 col-sm-4 col-md-3 col-lg-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"short-by\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, React.createElement(\"select\", {\n    className: \"selectpicker\",\n    \"data-live-search\": \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    hidden: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, \"S\\u1EAFp x\\u1EBFp\"), React.createElement(\"option\", {\n    value: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, \"Name (A - Z)\"), React.createElement(\"option\", {\n    value: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, \"Name (Z - A)\"), React.createElement(\"option\", {\n    value: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, \"Price (Low > High)\"), React.createElement(\"option\", {\n    value: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, \"Price (High > Low)\"), React.createElement(\"option\", {\n    value: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, \"Rating (Highest)\"), React.createElement(\"option\", {\n    value: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, \"Rating (Lowest)\"), React.createElement(\"option\", {\n    value: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, \"Model (A - Z)\"), React.createElement(\"option\", {\n    value: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, \"Model (Z - A)\")))), React.createElement(\"div\", {\n    className: \"col-6 col-sm-4 col-md-3 col-lg-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"pro-show\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, React.createElement(\"select\", {\n    id: \"type\",\n    className: \"selectpicker\",\n    value: props.match.params.type || 0,\n    onChange: onChangeFilter,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, \"--Lo\\u1EA1i--\"), type && type.map(function (item, key) {\n    return React.createElement(\"option\", {\n      key: key,\n      value: item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, item.name);\n  })))), React.createElement(\"div\", {\n    className: \"col-6 col-sm-4 col-md-3 col-lg-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"pro-show\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, React.createElement(\"select\", {\n    id: \"genre\",\n    className: \"selectpicker\",\n    value: props.match.params.genre || 0,\n    onChange: onChangeFilter,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, \"--Th\\u1EC3 lo\\u1EA1i--\"), genres && genres.map(function (item, key) {\n    return React.createElement(\"option\", {\n      key: key,\n      value: item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, item.name);\n  })))), React.createElement(\"div\", {\n    className: \"col-6 col-sm-4 col-md-3 col-lg-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"pro-show\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, React.createElement(\"select\", {\n    id: \"nation\",\n    className: \"selectpicker\",\n    value: props.match.params.nation || 0,\n    onChange: onChangeFilter,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, \"--Qu\\u1ED1c gia--\"), nation && nation.map(function (item, key) {\n    return React.createElement(\"option\", {\n      key: key,\n      value: item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, item.name);\n  })))), React.createElement(\"div\", {\n    className: \"col-6 col-sm-4 col-md-3 col-lg-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"pro-show\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, React.createElement(\"select\", {\n    id: \"year\",\n    className: \"selectpicker\",\n    value: props.match.params.year,\n    onChange: onChangeFilter,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, \"--N\\u0103m--\"), year && year.map(function (item, key) {\n    return React.createElement(\"option\", {\n      key: key,\n      value: item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, item.id);\n  })))), React.createElement(\"div\", {\n    className: \"col-6 col-sm-4 col-md-3 col-lg-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"pro-show\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-buttons btn-sm btn-fit\",\n    onClick: onFilter,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, \"L\\u1ECDc phim\")))))))), React.createElement(\"div\", {\n    className: \"zmoto-products fadeOut\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"zmovo-product-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  }, filter && filter.map(function (item, key) {\n    return React.createElement(\"div\", {\n      key: key,\n      className: \"col-lg-3 col-md-4 col-xs-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(VideoItem, {\n      data: item,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    })));\n  })))), React.createElement(\"div\", {\n    className: \"product-filter\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"product-filter-inner\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"product-filter-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"pagination-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218\n    },\n    __self: this\n  }, React.createElement(\"nav\", {\n    \"aria-label\": \"navigations\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: \"pagination\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    className: \"page-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    className: \"page-link pagefirst\",\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fa fa-angle-left\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }))), React.createElement(\"li\", {\n    className: \"page-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    className: \"page-link\",\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222\n    },\n    __self: this\n  }, \"1\")), React.createElement(\"li\", {\n    className: \"page-item active\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    className: \"page-link\",\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223\n    },\n    __self: this\n  }, \"2\")), React.createElement(\"li\", {\n    className: \"page-item active\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    className: \"page-link\",\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224\n    },\n    __self: this\n  }, \"3\")), React.createElement(\"li\", {\n    className: \"page-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    className: \"page-link lastpage\",\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fa fa-angle-right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225\n    },\n    __self: this\n  })))))))))), React.createElement(\"div\", {\n    className: \"col-lg-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236\n    },\n    __self: this\n  }, React.createElement(SideBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237\n    },\n    __self: this\n  }))))))))))));\n}","map":{"version":3,"sources":["/home/h/Source/Project/movie-website/src/views/Movies/index.js"],"names":["React","useEffect","useState","useReduceState","$","Breadcrumbs","SideBar","VideoItem","_","require","reset","MoviePage","props","state","firebase","getCollection","type","setType","genres","setGenres","nation","setNation","year","setYear","params","setParams","filter","setFilter","onChangeFilter","e","console","log","target","params_clone","id","value","onFilter","event","ftype","document","getElementById","fgenre","fnation","fyear","label","history","push","isEqual","match","removeClass","data","limit","genre","aCondition","obj","find","length","getDocWithCondition","where","addClass","map","item","key","name"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\n// import { Link } from 'react-router-dom';\nimport { useReduceState } from \"../../context\";\nimport \"./style.css\";\nimport $ from \"jquery\";\n\n//Components\nimport Breadcrumbs from \"../../containers/DefaultLayout/DefaultBreadcrumbs\";\nimport SideBar from \"../../components/Sidebar\";\nimport VideoItem from \"../../components/VideoItem\";\n\nvar _ = require('lodash');\nvar reset = false;\nexport default function MoviePage(props) {\n  const { state, firebase, getCollection } = useReduceState();\n  const [type, setType] = useState();\n  const [genres, setGenres] = useState();\n  const [nation, setNation] = useState();\n  const [year, setYear] = useState();\n  const [params, setParams] = useState();\n  const [filter, setFilter] = useState();\n\n  const onChangeFilter =(e)=>{\n    console.log(e.target)\n    var params_clone = params;\n    params_clone[e.target.id] = e.target.value;\n    setParams(params_clone)\n  }\n  const onFilter = event => {\n    var ftype = document.getElementById(\"type\").value;\n    var fgenre = document.getElementById(\"genre\").value;\n    var fnation = document.getElementById(\"nation\").value;\n    var fyear = document.getElementById(\"year\").value;\n    var label;\n\n    if(!ftype && fgenre){\n      label = \"the-loai/\";\n    }\n    else if(!ftype && fnation){\n      label = \"quoc-gia/\";\n    }\n    else if(!ftype && fyear){\n      label = \"phim-nam/\";\n    }\n    else{\n      label = \"\";\n    }\n\n    props.history.push('/'+label+(ftype?ftype+'/':'')+(fgenre?fgenre+'/':'')+(fnation?fnation+'/':'')+(fyear?fyear+'/':''));\n  };\n\n  if (!params || !_.isEqual(params, props.match.params)) {\n    reset = true; \n    $(\".zmoto-products\").removeClass(\"fadeIn\");\n    setParams(props.match.params);\n  }\n  if (!state.data || (state.data && !state.data.year)) {\n    getCollection(\"year\", { limit: 5 });\n  }\n  useEffect(() => {\n    if (!genres) {\n      setGenres(state.data && state.data.genre);\n    }\n    if (!nation) {\n      setNation(state.data && state.data.nation);\n    }\n    if (!type) {\n      setType(state.data && state.data.type);\n    }\n    if (!year) {\n      setYear(state.data && state.data.year);\n    }\n\n    if ((type || genres || nation || year) && params && reset) {\n      var aCondition = [];\n\n      if(type && params.type){\n        let obj = _.find(type,{ id: params.type });\n        if(obj) aCondition.push([\"type\",\"array-contains\",obj])\n      }\n      if(genres && params.genre != 0){\n        let obj = _.find(genres,{ id: params.genre });\n        if(obj) aCondition.push([\"genre\",\"array-contains\",obj])\n      }\n      if(nation && params.nation != 0){\n        let obj = _.find(nation,{ id: params.nation });\n        if(obj) aCondition.push([\"nation\",\"array-contains\",obj])\n      }\n      if(year && params.year){\n        aCondition.push([\"year\",\"array-contains\",params.year])\n      }\n      if(aCondition.length != 0){\n        firebase.getDocWithCondition(\"movie\",{ where: aCondition, limit: 10 },\"filter\",setFilter);\n        reset = false;\n      }\n    }\n  })\n  if(!reset && filter){\n    $(\".main-page\").addClass(\"fadeIn\");\n    $(\".zmoto-products\").addClass(\"fadeIn\");\n  }\n  return (\n    <div id=\"MoviePage\" className=\"main-page fadeOut\">\n      {/* <!-- breadcroumb-area --> */}\n      <Breadcrumbs items={[\"phim\"]} />\n      {/* <!-- End breadcroumb-area --> */}\n      <div className=\"zmoto-inner-page\">\n        <div className=\"zmovo-product-page\">\n          <div className=\"container\">\n            <div className=\"zmovo-product-items\">\n              <div className=\"zmovo-product-items-inner\">\n                <div className=\"row\">\n                  <div className=\"col-12\">\n                    <div className=\"zmovo-product-with-sedbar\">\n                      <div className=\"row\">\n                        {/* <!-- Right --> */}\n                        <div className=\"col-lg-9\">\n                          {/* <!-- Product Filter --> */}\n                          <div className=\"product-filter mb-30\">\n                            <div className=\"product-filter-inner\">\n                              <div className=\"product-filter-list\">\n                                <div className=\"short-by-show form-inline2\">\n                                  <div className=\"row\">\n                                    <div className=\"col-6 col-sm-4 col-md-3 col-lg-2\">\n                                      <div className=\"short-by\">\n                                        <select className=\"selectpicker\" data-live-search=\"true\">\n                                          <option hidden>Sắp xếp</option>\n                                          <option value=\"\">Name (A - Z)</option>\n                                          <option value=\"\">Name (Z - A)</option>\n                                          <option value=\"\">Price (Low &gt; High)</option>\n                                          <option value=\"\">Price (High &gt; Low)</option>\n                                          <option value=\"\">Rating (Highest)</option>\n                                          <option value=\"\">Rating (Lowest)</option>\n                                          <option value=\"\">Model (A - Z)</option>\n                                          <option value=\"\">Model (Z - A)</option>\n                                        </select>\n                                      </div>\n                                    </div>\n                                    <div className=\"col-6 col-sm-4 col-md-3 col-lg-2\">\n                                      <div className=\"pro-show\">\n                                        <select id=\"type\" className=\"selectpicker\" value={props.match.params.type||0} onChange={onChangeFilter}>\n                                          <option value=\"0\">--Loại--</option>\n                                          {\n                                            type && type.map(function (item, key) {\n                                              return <option key={key} value={item.id}>{item.name}</option>\n                                            })\n                                          }\n                                        </select>\n                                      </div>\n                                    </div>\n                                    <div className=\"col-6 col-sm-4 col-md-3 col-lg-2\">\n                                      <div className=\"pro-show\">\n                                        <select id=\"genre\" className=\"selectpicker\" value={props.match.params.genre||0} onChange={onChangeFilter}>\n                                          <option value=\"0\">--Thể loại--</option>\n                                          {\n                                            genres && genres.map(function (item, key) {\n                                              return <option key={key} value={item.id}>{item.name}</option>\n                                            })\n                                          }\n                                        </select>\n                                      </div>\n                                    </div>\n                                    <div className=\"col-6 col-sm-4 col-md-3 col-lg-2\">\n                                      <div className=\"pro-show\">\n                                        <select id=\"nation\" className=\"selectpicker\" value={props.match.params.nation||0} onChange={onChangeFilter}>\n                                          <option value=\"0\">--Quốc gia--</option>\n                                          {\n                                            nation && nation.map(function (item, key) {\n                                              return <option key={key} value={item.id}>{item.name}</option>\n                                            })\n                                          }\n                                        </select>\n                                      </div>\n                                    </div>\n                                    <div className=\"col-6 col-sm-4 col-md-3 col-lg-2\">\n                                      <div className=\"pro-show\">\n                                        <select id=\"year\" className=\"selectpicker\" value={props.match.params.year} onChange={onChangeFilter}>\n                                          <option value=\"\">--Năm--</option>\n                                          {\n                                            year && year.map(function (item, key) {\n                                              return <option key={key} value={item.id}>{item.id}</option>\n                                            })\n                                          }\n                                        </select>\n                                      </div>\n                                    </div>\n                                    <div className=\"col-6 col-sm-4 col-md-3 col-lg-2\">\n                                      <div className=\"pro-show\">\n                                        <button className=\"btn btn-buttons btn-sm btn-fit\" onClick={onFilter}>Lọc phim</button>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                          {/* <!-- end Product Filter --> */}\n                          <div className=\"zmoto-products fadeOut\">\n                            <div className=\"zmovo-product-list\">\n                              <div className=\"row\">\n                                {/* <!-- ITEM --> */}\n                                {filter && filter.map(function (item, key) {\n                                  return (\n                                    <div key={key} className=\"col-lg-3 col-md-4 col-xs-6\">\n                                      <div className=\"item\" >\n                                        <VideoItem data={item} />\n                                      </div>\n                                    </div>\n                                  )\n                                })}\n                              </div>\n                            </div>\n                          </div>\n                          {/* <!-- Product Filter --> */}\n                          <div className=\"product-filter\">\n                            <div className=\"product-filter-inner\">\n                              <div className=\"product-filter-list\">\n                                <div className=\"pagination-wrapper\">\n                                  <nav aria-label=\"navigations\">\n                                    <ul className=\"pagination\">\n                                      <li className=\"page-item\"><a className=\"page-link pagefirst\" href=\"/\"><i className=\"fa fa-angle-left\"></i></a></li>\n                                      <li className=\"page-item\"><a className=\"page-link\" href=\"/\">1</a></li>\n                                      <li className=\"page-item active\"><a className=\"page-link\" href=\"/\">2</a></li>\n                                      <li className=\"page-item active\"><a className=\"page-link\" href=\"/\">3</a></li>\n                                      <li className=\"page-item\"><a className=\"page-link lastpage\" href=\"/\"><i className=\"fa fa-angle-right\"></i></a></li>\n                                    </ul>\n                                  </nav>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                          {/* <!-- end Product Filter --> */}\n                        </div>\n                        {/* <!-- End Right --> */}\n                        {/* <!-- Left --> */}\n                        <div className=\"col-lg-3\">\n                          <SideBar />\n                        </div>\n                        {/* <!-- End Left --> */}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}