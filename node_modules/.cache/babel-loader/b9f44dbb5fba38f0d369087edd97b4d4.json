{"ast":null,"code":"import _defineProperty from \"/home/h/Source/Project/movie-website/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/home/h/Source/Project/movie-website/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/h/Source/Project/movie-website/src/context/index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { createContext, useContext, useReducer } from \"react\";\nimport { initialState, mainReducer } from \"./reducers\";\nconst StateContext = createContext();\nexport const StateProvider = props => {\n  const _useReducer = useReducer(mainReducer, initialState),\n        _useReducer2 = _slicedToArray(_useReducer, 2),\n        state = _useReducer2[0],\n        dispatch = _useReducer2[1];\n\n  const getMovieById = id => {\n    firebase.getMovieItem(id).then(rs => {\n      dispatch({\n        type: \"GET_MOVIE_ITEM\",\n        movie: _objectSpread({}, rs.data(), {\n          id: rs.id\n        })\n      });\n    });\n  };\n\n  const getNewMovies = () => {\n    var ListMovie = [];\n    firebase.getMovies([\"createdAt\", \"asc\"]).then(function (querySnapshot) {\n      querySnapshot.forEach(function (doc) {\n        ListMovie.push(_objectSpread({}, doc.data(), {\n          id: doc.id\n        }));\n      });\n      console.log(\"ListMovie\", ListMovie);\n      dispatch({\n        type: \"GET_MOVIES\",\n        movie: {\n          list: ListMovie\n        }\n      });\n    });\n  };\n\n  const value = {\n    state,\n    dispatch,\n    firebase,\n    getMovieById,\n    getNewMovies\n  };\n  return React.createElement(StateContext.Provider, {\n    value: value,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \" \", props.children, \" \");\n};\nexport const useReduceState = () => useContext(StateContext);\nexport const firebase = require(\"./firebase\").default;","map":{"version":3,"sources":["/home/h/Source/Project/movie-website/src/context/index.js"],"names":["React","createContext","useContext","useReducer","initialState","mainReducer","StateContext","StateProvider","props","state","dispatch","getMovieById","id","firebase","getMovieItem","then","rs","type","movie","data","getNewMovies","ListMovie","getMovies","querySnapshot","forEach","doc","push","console","log","list","value","children","useReduceState","require","default"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IACEC,aADF,EAEEC,UAFF,EAGEC,UAHF,QAIO,OAJP;AAKA,SACEC,YADF,EAEEC,WAFF,QAGO,YAHP;AAIA,MAAMC,YAAY,GAAGL,aAAa,EAAlC;AACA,OAAO,MAAMM,aAAa,GAAGC,KAAK,IAAI;AAAA,sBACVL,UAAU,CAACE,WAAD,EAAcD,YAAd,CADA;AAAA;AAAA,QAC7BK,KAD6B;AAAA,QACtBC,QADsB;;AAGpC,QAAMC,YAAY,GAAIC,EAAD,IAAQ;AAC3BC,IAAAA,QAAQ,CAACC,YAAT,CAAsBF,EAAtB,EAA0BG,IAA1B,CAA+BC,EAAE,IAAI;AACnCN,MAAAA,QAAQ,CAAC;AAACO,QAAAA,IAAI,EAAE,gBAAP;AAAwBC,QAAAA,KAAK,oBAAMF,EAAE,CAACG,IAAH,EAAN;AAAgBP,UAAAA,EAAE,EAAEI,EAAE,CAACJ;AAAvB;AAA7B,OAAD,CAAR;AACD,KAFD;AAGD,GAJD;;AAKA,QAAMQ,YAAY,GAAG,MAAM;AACzB,QAAIC,SAAS,GAAG,EAAhB;AACAR,IAAAA,QAAQ,CAACS,SAAT,CAAmB,CAAC,WAAD,EAAc,KAAd,CAAnB,EAAyCP,IAAzC,CAA8C,UAAUQ,aAAV,EAAyB;AACrEA,MAAAA,aAAa,CAACC,OAAd,CAAsB,UAAUC,GAAV,EAAe;AACnCJ,QAAAA,SAAS,CAACK,IAAV,mBAAmBD,GAAG,CAACN,IAAJ,EAAnB;AAA8BP,UAAAA,EAAE,EAACa,GAAG,CAACb;AAArC;AACD,OAFD;AAGAe,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBP,SAAzB;AACAX,MAAAA,QAAQ,CAAC;AAACO,QAAAA,IAAI,EAAE,YAAP;AAAoBC,QAAAA,KAAK,EAAE;AAACW,UAAAA,IAAI,EAAER;AAAP;AAA3B,OAAD,CAAR;AACD,KAND;AAOD,GATD;;AAUA,QAAMS,KAAK,GAAG;AACZrB,IAAAA,KADY;AAEZC,IAAAA,QAFY;AAGZG,IAAAA,QAHY;AAIZF,IAAAA,YAJY;AAKZS,IAAAA;AALY,GAAd;AAQA,SAAO,oBAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EACjCU,KADK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAGLtB,KAAK,CAACuB,QAHD,MAAP;AAKD,CA/BM;AAgCP,OAAO,MAAMC,cAAc,GAAG,MAAM9B,UAAU,CAACI,YAAD,CAAvC;AAEP,OAAO,MAAMO,QAAQ,GAAGoB,OAAO,CAAC,YAAD,CAAP,CAAsBC,OAAvC","sourcesContent":["import React, {\n  createContext,\n  useContext,\n  useReducer\n} from \"react\";\nimport {\n  initialState,\n  mainReducer\n} from \"./reducers\";\nconst StateContext = createContext();\nexport const StateProvider = props => {\n  const [state, dispatch] = useReducer(mainReducer, initialState);\n\n  const getMovieById = (id) => {\n    firebase.getMovieItem(id).then(rs => {\n      dispatch({type: \"GET_MOVIE_ITEM\",movie: {...rs.data(),id: rs.id}});\n    });\n  };\n  const getNewMovies = () => {\n    var ListMovie = []\n    firebase.getMovies([\"createdAt\", \"asc\"]).then(function (querySnapshot) {\n      querySnapshot.forEach(function (doc) {\n        ListMovie.push({...doc.data(),id:doc.id})\n      });\n      console.log(\"ListMovie\", ListMovie);\n      dispatch({type: \"GET_MOVIES\",movie: {list: ListMovie}});\n    });\n  };\n  const value = {\n    state,\n    dispatch,\n    firebase,\n    getMovieById,\n    getNewMovies\n  };\n\n  return <StateContext.Provider value = {\n    value\n  } > {\n    props.children\n  } < /StateContext.Provider>;\n};\nexport const useReduceState = () => useContext(StateContext);\n\nexport const firebase = require(\"./firebase\").default;"]},"metadata":{},"sourceType":"module"}