{"ast":null,"code":"import _slicedToArray from \"/home/h/Source/Project/movie-website/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/h/Source/Project/movie-website/src/containers/DefaultLayout/DefaultHeaderDropdown.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { useReduceState } from \"../../context\";\nimport { Link } from 'react-router-dom';\nimport $ from \"jquery\"; //Components\n\nimport Loading from \"../../containers/DefaultLayout/DefaultLoading\";\nexport default function DefaultHeaderDropdown(props) {\n  const _useReduceState = useReduceState(),\n        state = _useReduceState.state,\n        getCollection = _useReduceState.getCollection;\n\n  const _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        type = _useState2[0],\n        setType = _useState2[1];\n\n  const _useState3 = useState(),\n        _useState4 = _slicedToArray(_useState3, 2),\n        genres = _useState4[0],\n        setGenres = _useState4[1];\n\n  const _useState5 = useState(),\n        _useState6 = _slicedToArray(_useState5, 2),\n        nation = _useState6[0],\n        setNation = _useState6[1];\n\n  if (!state.data || state.data && !state.data.genre) {\n    getCollection(\"genre\");\n  }\n\n  if (!state.data || state.data && !state.data.nation) {\n    getCollection(\"nation\");\n  }\n\n  if (!state.data || state.data && !state.data.type) {\n    getCollection(\"type\", {\n      order: [\"index\", \"asc\"]\n    });\n  }\n\n  $(\"[data-toggle='collapse']\").click(function () {\n    var target = $(this).data(\"target\");\n    $(target).toggleClass(\"show\");\n    $(this).toggleClass(\"--opened\");\n  });\n  useEffect(() => {\n    console.log(\"HEADER\", state.data);\n\n    if (!genres) {\n      setGenres(state.data && state.data.genre);\n    }\n\n    if (!nation) {\n      setNation(state.data && state.data.nation);\n    }\n\n    if (!type) {\n      setType(state.data && state.data.type);\n    }\n  }, [nation]);\n  return React.createElement(\"div\", {\n    className: \"main-menu\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"navigation\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"menu-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    id: \"navigation\",\n    className: \"menu-collpase\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"menu-button\",\n    \"data-toggle\": \"collapse\",\n    \"data-target\": \"#menuCollapse\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }), React.createElement(\"ul\", {\n    id: \"menuCollapse\",\n    className: \"collapse\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    className: \"active\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Trang ch\\u1EE7\")), React.createElement(\"li\", {\n    className: \"has-sub\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    \"data-toggle\": \"collapse\",\n    \"data-target\": \"#genreCollapse\",\n    className: \"submenu-button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), React.createElement(Link, {\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Th\\u1EC3 lo\\u1EA1i\"), React.createElement(\"ul\", {\n    id: \"genreCollapse\",\n    className: \"collapse\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, genres && genres.map(function (item, key) {\n    return React.createElement(\"li\", {\n      key: key,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/the-loai/\" + item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, item.name));\n  }))), type && type.map(function (item, key) {\n    return React.createElement(\"li\", {\n      key: key,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/movies/?type=\" + item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, item.name));\n  }), React.createElement(\"li\", {\n    className: \"has-sub\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    \"data-toggle\": \"collapse\",\n    \"data-target\": \"#nationCollapse\",\n    className: \"submenu-button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), React.createElement(Link, {\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Qu\\u1ED1c gia\"), React.createElement(\"ul\", {\n    id: \"nationCollapse\",\n    className: \"collapse\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, nation && nation.map(function (item, key) {\n    return React.createElement(\"li\", {\n      key: key,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, item.name));\n  }))))))));\n}","map":{"version":3,"sources":["/home/h/Source/Project/movie-website/src/containers/DefaultLayout/DefaultHeaderDropdown.jsx"],"names":["React","useEffect","useState","useReduceState","Link","$","Loading","DefaultHeaderDropdown","props","state","getCollection","type","setType","genres","setGenres","nation","setNation","data","genre","order","click","target","toggleClass","console","log","map","item","key","id","name"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,cAAT,QAA+B,eAA/B;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,CAAP,MAAc,QAAd,C,CAEA;;AACA,OAAOC,OAAP,MAAoB,+CAApB;AAEA,eAAe,SAASC,qBAAT,CAA+BC,KAA/B,EAAsC;AAAA,0BAClBL,cAAc,EADI;AAAA,QAC3CM,KAD2C,mBAC3CA,KAD2C;AAAA,QACpCC,aADoC,mBACpCA,aADoC;;AAAA,oBAE3BR,QAAQ,EAFmB;AAAA;AAAA,QAE5CS,IAF4C;AAAA,QAEtCC,OAFsC;;AAAA,qBAGvBV,QAAQ,EAHe;AAAA;AAAA,QAG5CW,MAH4C;AAAA,QAGpCC,SAHoC;;AAAA,qBAIvBZ,QAAQ,EAJe;AAAA;AAAA,QAI5Ca,MAJ4C;AAAA,QAIpCC,SAJoC;;AAKnD,MAAI,CAACP,KAAK,CAACQ,IAAP,IAAgBR,KAAK,CAACQ,IAAN,IAAc,CAACR,KAAK,CAACQ,IAAN,CAAWC,KAA9C,EAAsD;AACpDR,IAAAA,aAAa,CAAC,OAAD,CAAb;AACD;;AACD,MAAI,CAACD,KAAK,CAACQ,IAAP,IAAgBR,KAAK,CAACQ,IAAN,IAAc,CAACR,KAAK,CAACQ,IAAN,CAAWF,MAA9C,EAAuD;AACrDL,IAAAA,aAAa,CAAC,QAAD,CAAb;AACD;;AACD,MAAI,CAACD,KAAK,CAACQ,IAAP,IAAgBR,KAAK,CAACQ,IAAN,IAAc,CAACR,KAAK,CAACQ,IAAN,CAAWN,IAA9C,EAAqD;AACnDD,IAAAA,aAAa,CAAC,MAAD,EAAQ;AAACS,MAAAA,KAAK,EAAC,CAAC,OAAD,EAAS,KAAT;AAAP,KAAR,CAAb;AACD;;AACDd,EAAAA,CAAC,CAAC,0BAAD,CAAD,CAA8Be,KAA9B,CAAoC,YAAY;AAC9C,QAAIC,MAAM,GAAGhB,CAAC,CAAC,IAAD,CAAD,CAAQY,IAAR,CAAa,QAAb,CAAb;AACAZ,IAAAA,CAAC,CAACgB,MAAD,CAAD,CAAUC,WAAV,CAAsB,MAAtB;AACAjB,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQiB,WAAR,CAAoB,UAApB;AACD,GAJD;AAMArB,EAAAA,SAAS,CAAC,MAAM;AACdsB,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBf,KAAK,CAACQ,IAA3B;;AAEA,QAAG,CAACJ,MAAJ,EAAW;AACTC,MAAAA,SAAS,CAACL,KAAK,CAACQ,IAAN,IAAcR,KAAK,CAACQ,IAAN,CAAWC,KAA1B,CAAT;AACD;;AACD,QAAG,CAACH,MAAJ,EAAW;AACTC,MAAAA,SAAS,CAACP,KAAK,CAACQ,IAAN,IAAcR,KAAK,CAACQ,IAAN,CAAWF,MAA1B,CAAT;AACD;;AACD,QAAG,CAACJ,IAAJ,EAAS;AACPC,MAAAA,OAAO,CAACH,KAAK,CAACQ,IAAN,IAAcR,KAAK,CAACQ,IAAN,CAAWN,IAA1B,CAAP;AACD;AACF,GAZQ,EAYP,CAACI,MAAD,CAZO,CAAT;AAaA,SACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,EAAE,EAAC,YAAP;AAAoB,IAAA,SAAS,EAAC,eAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,EAAE,EAAC,aAAR;AAAsB,mBAAY,UAAlC;AAA6C,mBAAY,eAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAI,IAAA,EAAE,EAAC,cAAP;AAAsB,IAAA,SAAS,EAAC,UAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,CADF,EAIE;AAAI,IAAA,SAAS,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwB;AAAM,mBAAY,UAAlB;AAA6B,mBAAY,gBAAzC;AAA0D,IAAA,SAAS,EAAC,gBAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAxB,EACE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,EAEE;AAAI,IAAA,EAAE,EAAC,eAAP;AAAuB,IAAA,SAAS,EAAC,UAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGF,MAAM,IAAIA,MAAM,CAACY,GAAP,CAAW,UAASC,IAAT,EAAcC,GAAd,EAAkB;AACtC,WAAO;AAAI,MAAA,GAAG,EAAEA,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAc,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAE,eAAaD,IAAI,CAACE,EAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiCF,IAAI,CAACG,IAAtC,CAAd,CAAP;AACD,GAFU,CADb,CAFF,CAJF,EAaIlB,IAAI,IAAIA,IAAI,CAACc,GAAL,CAAS,UAASC,IAAT,EAAcC,GAAd,EAAkB;AACjC,WAAO;AAAI,MAAA,GAAG,EAAEA,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAc,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAE,mBAAiBD,IAAI,CAACE,EAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAqCF,IAAI,CAACG,IAA1C,CAAd,CAAP;AACD,GAFO,CAbZ,EAiBE;AAAI,IAAA,SAAS,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwB;AAAM,mBAAY,UAAlB;AAA6B,mBAAY,iBAAzC;AAA2D,IAAA,SAAS,EAAC,gBAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAxB,EACE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAEE;AAAI,IAAA,EAAE,EAAC,gBAAP;AAAwB,IAAA,SAAS,EAAC,UAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGd,MAAM,IAAEA,MAAM,CAACU,GAAP,CAAW,UAASC,IAAT,EAAcC,GAAd,EAAkB;AACpC,WAAO;AAAI,MAAA,GAAG,EAAEA,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAc,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAcD,IAAI,CAACG,IAAnB,CAAd,CAAP;AACD,GAFQ,CADX,CAFF,CAjBF,CAFF,CADF,CADF,CADF,CADF;AAqCD","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useReduceState } from \"../../context\";\nimport { Link } from 'react-router-dom';\nimport $ from \"jquery\";\n\n//Components\nimport Loading from \"../../containers/DefaultLayout/DefaultLoading\";\n\nexport default function DefaultHeaderDropdown(props) {\n  const { state, getCollection } = useReduceState();\n  const [type, setType] = useState();\n  const [genres, setGenres] = useState();\n  const [nation, setNation] = useState();\n  if (!state.data || (state.data && !state.data.genre)) {\n    getCollection(\"genre\");\n  }\n  if (!state.data || (state.data && !state.data.nation)) {\n    getCollection(\"nation\");\n  }\n  if (!state.data || (state.data && !state.data.type)) {\n    getCollection(\"type\",{order:[\"index\",\"asc\"]});\n  }\n  $(\"[data-toggle='collapse']\").click(function () {\n    var target = $(this).data(\"target\");\n    $(target).toggleClass(\"show\");\n    $(this).toggleClass(\"--opened\");\n  })\n  \n  useEffect(() => {\n    console.log(\"HEADER\",state.data);\n    \n    if(!genres){\n      setGenres(state.data && state.data.genre);\n    }\n    if(!nation){\n      setNation(state.data && state.data.nation);\n    }\n    if(!type){\n      setType(state.data && state.data.type);\n    }\n  },[nation])\n  return (\n    <div className=\"main-menu\">\n      <div className=\"navigation\">\n        <div className=\"menu-container\">\n          <ul id=\"navigation\" className=\"menu-collpase\">\n            <div id=\"menu-button\" data-toggle=\"collapse\" data-target=\"#menuCollapse\"></div>\n            <ul id=\"menuCollapse\" className=\"collapse\">\n              <li className=\"active\">\n                <Link to=\"/\">Trang chủ</Link>\n              </li>\n              <li className=\"has-sub\"><span data-toggle=\"collapse\" data-target=\"#genreCollapse\" className=\"submenu-button\"></span>\n                <Link to=\"/\">Thể loại</Link>\n                <ul id=\"genreCollapse\" className=\"collapse\">\n                  {genres && genres.map(function(item,key){\n                    return <li key={key}><Link to={\"/the-loai/\"+item.id}>{item.name}</Link></li>\n                  })}\n                </ul>\n              </li>\n              {\n                type && type.map(function(item,key){\n                  return <li key={key}><Link to={\"/movies/?type=\"+item.id}>{item.name}</Link></li>\n                })\n              }\n              <li className=\"has-sub\"><span data-toggle=\"collapse\" data-target=\"#nationCollapse\" className=\"submenu-button\"></span>\n                <Link to=\"/\">Quốc gia</Link>\n                <ul id=\"nationCollapse\" className=\"collapse\">\n                  {nation&&nation.map(function(item,key){\n                    return <li key={key}><Link to=\"/\">{item.name}</Link></li>\n                  })}\n                </ul>\n              </li>\n            </ul>\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}