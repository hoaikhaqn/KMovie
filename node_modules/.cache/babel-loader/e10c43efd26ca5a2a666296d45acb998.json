{"ast":null,"code":"import _slicedToArray from \"/home/h/Source/Project/movie-website/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/h/Source/Project/movie-website/src/context/index.js\";\nimport React, { createContext, useContext, useReducer } from \"react\";\nimport { initialState, mainReducer } from \"./reducers\";\nconst StateContext = createContext();\nexport const StateProvider = props => {\n  const _useReducer = useReducer(mainReducer, initialState),\n        _useReducer2 = _slicedToArray(_useReducer, 2),\n        state = _useReducer2[0],\n        dispatch = _useReducer2[1];\n\n  const getMovieById = id => {\n    console.log(\"getMovieById\");\n    firebase.getMoveItem().onSnapshot({\n      includeMetadataChanges: true\n    }, function (snapshot) {\n      snapshot.docChanges().forEach(function (change) {\n        if (change.type === \"added\") {\n          dispatch({\n            type: \"SET_MOVIE_ITEM\",\n            movie: change.doc.data()\n          });\n        }\n      });\n    }); // di\n  };\n\n  const value = {\n    state,\n    dispatch,\n    firebase,\n    getMovieById\n  };\n  return React.createElement(StateContext.Provider, {\n    value: value,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \" \", props.children, \" \");\n};\nexport const useReduceState = () => useContext(StateContext);\nexport const firebase = require(\"./firebase\").default;","map":{"version":3,"sources":["/home/h/Source/Project/movie-website/src/context/index.js"],"names":["React","createContext","useContext","useReducer","initialState","mainReducer","StateContext","StateProvider","props","state","dispatch","getMovieById","id","console","log","firebase","getMoveItem","onSnapshot","includeMetadataChanges","snapshot","docChanges","forEach","change","type","movie","doc","data","value","children","useReduceState","require","default"],"mappings":";;AAAA,OAAOA,KAAP,IACEC,aADF,EAEEC,UAFF,EAGEC,UAHF,QAIO,OAJP;AAKA,SACEC,YADF,EAEEC,WAFF,QAGO,YAHP;AAIA,MAAMC,YAAY,GAAGL,aAAa,EAAlC;AACA,OAAO,MAAMM,aAAa,GAAGC,KAAK,IAAI;AAAA,sBACVL,UAAU,CAACE,WAAD,EAAcD,YAAd,CADA;AAAA;AAAA,QAC7BK,KAD6B;AAAA,QACtBC,QADsB;;AAGpC,QAAMC,YAAY,GAAGC,EAAE,IAAI;AACzBC,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACAC,IAAAA,QAAQ,CAACC,WAAT,GAAuBC,UAAvB,CAAkC;AAChCC,MAAAA,sBAAsB,EAAE;AADQ,KAAlC,EAEG,UAAUC,QAAV,EAAoB;AACrBA,MAAAA,QAAQ,CAACC,UAAT,GAAsBC,OAAtB,CAA8B,UAAUC,MAAV,EAAkB;AAC9C,YAAIA,MAAM,CAACC,IAAP,KAAgB,OAApB,EAA6B;AAC3Bb,UAAAA,QAAQ,CAAC;AACPa,YAAAA,IAAI,EAAE,gBADC;AAEPC,YAAAA,KAAK,EAAEF,MAAM,CAACG,GAAP,CAAWC,IAAX;AAFA,WAAD,CAAR;AAID;AACF,OAPD;AAQD,KAXD,EAFyB,CAczB;AACD,GAfD;;AAgBA,QAAMC,KAAK,GAAG;AACZlB,IAAAA,KADY;AAEZC,IAAAA,QAFY;AAGZK,IAAAA,QAHY;AAIZJ,IAAAA;AAJY,GAAd;AAOA,SAAO,oBAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EACjCgB,KADK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAGLnB,KAAK,CAACoB,QAHD,MAAP;AAKD,CA/BM;AAgCP,OAAO,MAAMC,cAAc,GAAG,MAAM3B,UAAU,CAACI,YAAD,CAAvC;AAEP,OAAO,MAAMS,QAAQ,GAAGe,OAAO,CAAC,YAAD,CAAP,CAAsBC,OAAvC","sourcesContent":["import React, {\n  createContext,\n  useContext,\n  useReducer\n} from \"react\";\nimport {\n  initialState,\n  mainReducer\n} from \"./reducers\";\nconst StateContext = createContext();\nexport const StateProvider = props => {\n  const [state, dispatch] = useReducer(mainReducer, initialState);\n\n  const getMovieById = id => {\n    console.log(\"getMovieById\");\n    firebase.getMoveItem().onSnapshot({\n      includeMetadataChanges: true\n    }, function (snapshot) {\n      snapshot.docChanges().forEach(function (change) {\n        if (change.type === \"added\") {\n          dispatch({\n            type: \"SET_MOVIE_ITEM\",\n            movie: change.doc.data()\n          });\n        }\n      });\n    });\n    // di\n  };\n  const value = {\n    state,\n    dispatch,\n    firebase,\n    getMovieById\n  };\n\n  return <StateContext.Provider value = {\n    value\n  } > {\n    props.children\n  } < /StateContext.Provider>;\n};\nexport const useReduceState = () => useContext(StateContext);\n\nexport const firebase = require(\"./firebase\").default;"]},"metadata":{},"sourceType":"module"}