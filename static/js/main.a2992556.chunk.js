(window.webpackJsonpmovies=window.webpackJsonpmovies||[]).push([[1],{14:function(e,t,_){"use strict";var r=_(3),a=_(13),n=_(0),o=_.n(n),c=function(e,t){switch(t.type){case"GET_LISTDATA":case"GET_MOVIE_ITEM":return t.data;default:return e}},i=function(e,t){var _=e.data;return{data:Object(r.a)(Object(r.a)({},_),c(_,t))}},u={data:void 0};_.d(t,"a",(function(){return l})),_.d(t,"c",(function(){return d})),_.d(t,"b",(function(){return b}));var s=Object(n.createContext)(),l=function(e){var t=Object(n.useReducer)(i,u),_=Object(a.a)(t,2),c=_[0],l=_[1],d={state:c,dispatch:l,firebase:b,getDocumentById:function(e,t){b.getDocument(e,t).then((function(e){l({type:"GET_MOVIE_ITEM",data:{item:Object(r.a)(Object(r.a)({},e.data()),{},{id:e.id})}})}))},getCollection:function(e,t,_){var a=[],n={};b.getData(e,t).then((function(t){t.forEach((function(e){a.push(Object(r.a)(Object(r.a)({},e.data()),{},{id:e.id}))})),n[_||e]=a,l({type:"GET_LISTDATA",data:Object(r.a)({},n)})}))},setDocument:function(e,t,_){b.setDocument(e,t,_)}};return o.a.createElement(s.Provider,{value:d},e.children)},d=function(){return Object(n.useContext)(s)},b=_(39).default},28:function(e,t,_){"use strict";var r=_(29),a=_.n(r);t.a={_env:a.a}},29:function(e,t,_){e.exports=_(52)},32:function(e,t,_){e.exports=_(59)},39:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var D_Work_Outsource_kmovie_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),D_Work_Outsource_kmovie_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(22),D_Work_Outsource_kmovie_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(23),firesql__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(27),firesql__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(firesql__WEBPACK_IMPORTED_MODULE_3__),firebase_app__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),firebase_app__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(firebase_app__WEBPACK_IMPORTED_MODULE_4__),firebase_auth__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(49),firebase_firebase_firestore__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(51),firebase_firebase_firestore__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(firebase_firebase_firestore__WEBPACK_IMPORTED_MODULE_6__),_config__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(28),Firebase=function(){function Firebase(){var _this=this;Object(D_Work_Outsource_kmovie_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__.a)(this,Firebase),this.getUid=function(e){return!e&&(e=_this.auth.currentUser),e&&(e.email||e.providerData[0]&&e.providerData[0].uid||e.uid)},this.checkSession=function(e){return!e&&(e=_this.auth.currentUser),e&&(new Date).getTime()-e.metadata.b<864e5},this.getDocWithCondition=function(e,t,_){try{_this.db.collection(e).where(t.where[0]+("object"===typeof t.where[1]?"."+t.where[1].id:""),"==","object"===typeof t.where[1]?t.where[1].name:t.where[1]).onSnapshot((function(e){var t=[];e.docs.forEach((function(e){t.push(Object(D_Work_Outsource_kmovie_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(D_Work_Outsource_kmovie_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},e.data()),{},{id:e.id}))})),_&&_(t)}))}catch(r){console.error(r)}},this.getDocWithMultiCondition=function(collection,params,callback){try{var api,where="";params.where&&params.where.forEach((function(e){"object"===typeof e[1]?where+=".where('"+e[0]+"."+e[1].id+"','==','"+e[1].name+"')":where+=".where('"+e[0]+"','==','"+e[1]+"')"}));var query="this.db.collection('".concat(collection,"')").concat(where);api=eval(query),api.onSnapshot((function(e){var t=[];e.docs.forEach((function(e){t.push(Object(D_Work_Outsource_kmovie_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(D_Work_Outsource_kmovie_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},e.data()),{},{id:e.id}))})),params.orderBy?t.sort((function(e,t){return("asc"===params.orderBy[1]?1:-1)*(e[params.orderBy[0]]-t[params.orderBy[0]])})):t.sort((function(e,t){return t.createdAt-e.createdAt})),callback&&callback(t)}))}catch(error){console.error(error)}},this.getDocWithKeyword=function(e,t,_){try{var r="SELECT * FROM ".concat(e," WHERE ").concat(t.where[0]," OR ").concat(t.where[1]);_this.fireSQL.query(r).then((function(e){t.orderBy?e.sort((function(e,_){return("asc"===t.orderBy[1]?1:-1)*(e[t.orderBy[0]]-_[t.orderBy[0]])})):e.sort((function(e,t){return t.createdAt-e.createdAt})),_&&_(e)}))}catch(a){console.error(a)}},firebase_app__WEBPACK_IMPORTED_MODULE_4___default.a.initializeApp(_config__WEBPACK_IMPORTED_MODULE_7__.a._env.firebase),this.auth=firebase_app__WEBPACK_IMPORTED_MODULE_4___default.a.auth(),this.db=firebase_app__WEBPACK_IMPORTED_MODULE_4___default.a.firestore(),this.fireSQL=new firesql__WEBPACK_IMPORTED_MODULE_3__.FireSQL(this.db),this.authGoogle=new firebase_app__WEBPACK_IMPORTED_MODULE_4___default.a.auth.GoogleAuthProvider,this.authGoogle.setCustomParameters({prompt:"select_account"}),this.authFacebook=new firebase_app__WEBPACK_IMPORTED_MODULE_4___default.a.auth.FacebookAuthProvider,this.authFacebook.setCustomParameters({prompt:"select_account"})}return Object(D_Work_Outsource_kmovie_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__.a)(Firebase,[{key:"isInitialized",value:function(){var e=this;return new Promise((function(t){e.auth.onAuthStateChanged(t)}))}},{key:"getCurrentUsername",value:function(){return this.auth.currentUser}},{key:"getUserLogIn",value:function(){return this.db.doc("account/"+this.getUid()).get()}},{key:"logout",value:function(){return this.auth.signOut()}},{key:"getData",value:function(e,t){return t?this.db.collection(e).orderBy(t.order?t.order[0]:"createdAt",t.order?t.order[1]:"desc").limit(t.limit?t.limit:1e3).get(t.get&&t.get):this.db.collection(e).get()}},{key:"getDocument",value:function(e,t){return this.db.collection(e).doc(t).get()}},{key:"setDocument",value:function(e,t,_,r){this.db.collection(e).doc(t).set(_).then((function(){r&&r(!0)})).catch((function(e){r&&r(!1)}))}}]),Firebase}();__webpack_exports__.default=new Firebase},52:function(e,t){e.exports={API_URL:"",logLev:3,CLIENT_URL:"",firebase:{apiKey:"AIzaSyAU36mdrDdmCxs6G6ediprtZqoxvv0IJ3Y",authDomain:"authen-80412.firebaseapp.com",databaseURL:"https://authen-80412.firebaseio.com",projectId:"authen-80412",storageBucket:"authen-80412.appspot.com",messagingSenderId:"889189420817",appId:"1:889189420817:web:6934064073ecb692"}}},53:function(e,t,_){},59:function(e,t,_){"use strict";_.r(t);var r=_(0),a=_.n(r),n=_(21),o=_.n(n),c=(_(37),_(38),_(13)),i=_(14),u=(_(53),_(19)),s=_(7),l=(_(54),a.a.lazy((function(){return _.e(15).then(_.bind(null,99))}))),d=a.a.lazy((function(){return Promise.all([_.e(0),_.e(10)]).then(_.bind(null,90))})),b=a.a.lazy((function(){return Promise.all([_.e(0),_.e(11)]).then(_.bind(null,91))})),p=a.a.lazy((function(){return _.e(16).then(_.bind(null,92))})),h=a.a.lazy((function(){return _.e(17).then(_.bind(null,93))}));var E=function(){var e=Object(r.useState)(!1),t=Object(c.a)(e,2),_=t[0],n=t[1];return Object(r.useEffect)((function(){i.b.isInitialized().then((function(e){n(e)}))})),!1!==_?a.a.createElement(i.a,null,a.a.createElement(u.a,null,a.a.createElement(a.a.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(s.d,null,a.a.createElement(s.b,{exact:!0,path:"/login",name:"Login Page",render:function(e){return a.a.createElement(d,e)}}),a.a.createElement(s.b,{exact:!0,path:"/register",name:"Register Page",render:function(e){return a.a.createElement(b,e)}}),a.a.createElement(s.b,{exact:!0,path:"/404",name:"Page 404",render:function(e){return a.a.createElement(p,e)}}),a.a.createElement(s.b,{exact:!0,path:"/500",name:"Page 500",render:function(e){return a.a.createElement(h,e)}}),a.a.createElement(s.b,{path:"/",name:"Home",render:function(e){return a.a.createElement(l,e)}}))))):a.a.createElement("div",null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[32,2,3]]]);
//# sourceMappingURL=main.a2992556.chunk.js.map