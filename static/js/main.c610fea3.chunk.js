(window.webpackJsonpmovies=window.webpackJsonpmovies||[]).push([[1],{14:function(e,t,r){"use strict";var n=r(8),a=r(13),_=r(0),o=r.n(_),c=function(e,t){switch(t.type){case"GET_LISTDATA":case"GET_MOVIE_ITEM":return t.data;default:return e}};function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(r,!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var s=function(e,t){var r=e.data;return{data:u({},r,{},c(r,t))}},l={data:void 0};function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(r,!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}r.d(t,"a",function(){return b}),r.d(t,"c",function(){return d}),r.d(t,"b",function(){return E});var h=Object(_.createContext)(),b=function(e){var t=Object(_.useReducer)(s,l),r=Object(a.a)(t,2),n=r[0],c=r[1],i={state:n,dispatch:c,firebase:E,getDocumentById:function(e,t){E.getDocument(e,t).then(function(e){c({type:"GET_MOVIE_ITEM",data:{item:p({},e.data(),{id:e.id})}})})},getCollection:function(e,t,r){var n=[],a={};E.getData(e,t).then(function(t){t.forEach(function(e){n.push(p({},e.data(),{id:e.id}))}),a[r||e]=n,c({type:"GET_LISTDATA",data:p({},a)})})},setDocument:function(e,t,r){E.setDocument(e,t,r)}};return o.a.createElement(h.Provider,{value:i},e.children)},d=function(){return Object(_.useContext)(h)},E=r(39).default},28:function(e,t,r){"use strict";var n=r(29),a=r.n(n);t.a={_env:a.a}},29:function(e,t,r){e.exports=r(52)},32:function(e,t,r){e.exports=r(59)},39:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _home_h_Source_Project_KMovie_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8),_home_h_Source_Project_KMovie_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(22),_home_h_Source_Project_KMovie_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(23),firesql__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(27),firesql__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(firesql__WEBPACK_IMPORTED_MODULE_3__),firebase_app__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),firebase_app__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(firebase_app__WEBPACK_IMPORTED_MODULE_4__),firebase_auth__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(49),firebase_firebase_firestore__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(51),firebase_firebase_firestore__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(firebase_firebase_firestore__WEBPACK_IMPORTED_MODULE_6__),_config__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(28);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(r,!0).forEach(function(t){Object(_home_h_Source_Project_KMovie_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Firebase=function(){function Firebase(){var _this=this;Object(_home_h_Source_Project_KMovie_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__.a)(this,Firebase),this.getUid=function(e){return!e&&(e=_this.auth.currentUser),e&&(e.email||e.providerData[0]&&e.providerData[0].uid||e.uid)},this.checkSession=function(e){return!e&&(e=_this.auth.currentUser),e&&(new Date).getTime()-e.metadata.b<864e5},this.getDocWithCondition=function(e,t,r){try{_this.db.collection(e).where(t.where[0]+("object"===typeof t.where[1]?"."+t.where[1].id:""),"==","object"===typeof t.where[1]?t.where[1].name:t.where[1]).onSnapshot(function(e){var t=[];e.docs.forEach(function(e){t.push(_objectSpread({},e.data(),{id:e.id}))}),r&&r(t)})}catch(n){console.error(n)}},this.getDocWithMultiCondition=function(collection,params,callback){try{var api,where="";params.where&&params.where.forEach(function(e){"object"===typeof e[1]?where+=".where('"+e[0]+"."+e[1].id+"','==','"+e[1].name+"')":where+=".where('"+e[0]+"','==','"+e[1]+"')"});var query="this.db.collection('".concat(collection,"')").concat(where);api=eval(query),api.onSnapshot(function(e){var t=[];e.docs.forEach(function(e){t.push(_objectSpread({},e.data(),{id:e.id}))}),params.orderBy?t.sort(function(e,t){return("asc"===params.orderBy[1]?1:-1)*(e[params.orderBy[0]]-t[params.orderBy[0]])}):t.sort(function(e,t){return t.createdAt-e.createdAt}),callback&&callback(t)})}catch(error){console.error(error)}},this.getDocWithKeyword=function(e,t,r){try{var n="SELECT * FROM ".concat(e," WHERE ").concat(t.where[0]," OR ").concat(t.where[1]);_this.fireSQL.query(n).then(function(e){t.orderBy?e.sort(function(e,r){return("asc"===t.orderBy[1]?1:-1)*(e[t.orderBy[0]]-r[t.orderBy[0]])}):e.sort(function(e,t){return t.createdAt-e.createdAt}),r&&r(e)})}catch(a){console.error(a)}},firebase_app__WEBPACK_IMPORTED_MODULE_4___default.a.initializeApp(_config__WEBPACK_IMPORTED_MODULE_7__.a._env.firebase),this.auth=firebase_app__WEBPACK_IMPORTED_MODULE_4___default.a.auth(),this.db=firebase_app__WEBPACK_IMPORTED_MODULE_4___default.a.firestore(),this.fireSQL=new firesql__WEBPACK_IMPORTED_MODULE_3__.FireSQL(this.db),this.authGoogle=new firebase_app__WEBPACK_IMPORTED_MODULE_4___default.a.auth.GoogleAuthProvider,this.authGoogle.setCustomParameters({prompt:"select_account"}),this.authFacebook=new firebase_app__WEBPACK_IMPORTED_MODULE_4___default.a.auth.FacebookAuthProvider,this.authFacebook.setCustomParameters({prompt:"select_account"})}return Object(_home_h_Source_Project_KMovie_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__.a)(Firebase,[{key:"isInitialized",value:function(){var e=this;return new Promise(function(t){e.auth.onAuthStateChanged(t)})}},{key:"getCurrentUsername",value:function(){return this.auth.currentUser}},{key:"getUserLogIn",value:function(){return this.db.doc("account/"+this.getUid()).get()}},{key:"logout",value:function(){return this.auth.signOut()}},{key:"getData",value:function(e,t){return t?this.db.collection(e).orderBy(t.order?t.order[0]:"createdAt",t.order?t.order[1]:"desc").limit(t.limit?t.limit:1e3).get(t.get&&t.get):this.db.collection(e).get()}},{key:"getDocument",value:function(e,t){return this.db.collection(e).doc(t).get()}},{key:"setDocument",value:function(e,t,r,n){this.db.collection(e).doc(t).set(r).then(function(){n&&n(!0)}).catch(function(e){n&&n(!1)})}}]),Firebase}();__webpack_exports__.default=new Firebase},52:function(e,t){e.exports={API_URL:"",logLev:3,CLIENT_URL:"",firebase:{apiKey:"AIzaSyAU36mdrDdmCxs6G6ediprtZqoxvv0IJ3Y",authDomain:"authen-80412.firebaseapp.com",databaseURL:"https://authen-80412.firebaseio.com",projectId:"authen-80412",storageBucket:"authen-80412.appspot.com",messagingSenderId:"889189420817",appId:"1:889189420817:web:6934064073ecb692"}}},53:function(e,t,r){},59:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),_=r(21),o=r.n(_),c=(r(37),r(38),r(13)),i=r(14),u=(r(53),r(19)),s=r(6),l=(r(54),function(){return a.a.createElement("div",null)}),f=a.a.lazy(function(){return r.e(15).then(r.bind(null,99))}),p=a.a.lazy(function(){return Promise.all([r.e(0),r.e(10)]).then(r.bind(null,90))}),h=a.a.lazy(function(){return Promise.all([r.e(0),r.e(11)]).then(r.bind(null,91))}),b=a.a.lazy(function(){return r.e(16).then(r.bind(null,92))}),d=a.a.lazy(function(){return r.e(17).then(r.bind(null,93))});var E=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),r=t[0],_=t[1];return Object(n.useEffect)(function(){i.b.isInitialized().then(function(e){_(e)})}),!1!==r?a.a.createElement(i.a,null,a.a.createElement(u.a,null,a.a.createElement(a.a.Suspense,{fallback:l()},a.a.createElement(s.d,null,a.a.createElement(s.b,{exact:!0,path:"/login",name:"Login Page",render:function(e){return a.a.createElement(p,e)}}),a.a.createElement(s.b,{exact:!0,path:"/register",name:"Register Page",render:function(e){return a.a.createElement(h,e)}}),a.a.createElement(s.b,{exact:!0,path:"/404",name:"Page 404",render:function(e){return a.a.createElement(b,e)}}),a.a.createElement(s.b,{exact:!0,path:"/500",name:"Page 500",render:function(e){return a.a.createElement(d,e)}}),a.a.createElement(s.b,{path:"/",name:"Home",render:function(e){return a.a.createElement(f,e)}}))))):a.a.createElement("div",null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,2,3]]]);
//# sourceMappingURL=main.c610fea3.chunk.js.map